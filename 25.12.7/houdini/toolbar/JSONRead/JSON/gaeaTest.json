{
    "data": {
        "tags": {
            "target_tag": "attribwrangle11",
            "start_tags": [
                "heightfield1",
                "heightfield5",
                "convert1",
                "heightfield_file1"
            ],
            "end_tags": [
                "GaeaProcessed",
                "Output_to_Gaea"
            ]
        },
        "children": {
            "attribwrangle11": {
                "type": "attribwrangle",
                "inputs": [
                    {
                        "from": "attribpromote5",
                        "from_index": 0,
                        "to_index": 0
                    },
                    {
                        "from": "attribpromote6",
                        "from_index": 0,
                        "to_index": 1
                    }
                ],
                "position": [
                    0,
                    0
                ],
                "parms": {
                    "class": "detail",
                    "snippet": "float sceneArea = detail(0,\"sceneArea\",0);\nfloat refArea = detail(1,\"refArea\",0);\nf@sizeRate = pow(refArea/sceneArea,1.0/2.0);"
                }
            },
            "attribtransfer1": {
                "type": "attribtransfer",
                "inputs": [
                    {
                        "from": "attribwrangle2",
                        "from_index": 0,
                        "to_index": 0
                    },
                    {
                        "from": "After_Xform",
                        "from_index": 0,
                        "to_index": 1
                    }
                ],
                "position": [
                    0.02,
                    -20.23
                ],
                "parms": {
                    "detailattribs": true,
                    "detailattriblist": "sceneArea sizeRate xform2 xform3",
                    "primitiveattribs": false,
                    "pointattribs": false
                }
            },
            "xform3inverse": {
                "type": "xform",
                "inputs": [
                    {
                        "from": "attribtransfer1",
                        "from_index": 0,
                        "to_index": 0
                    }
                ],
                "position": [
                    0.02,
                    -21.45
                ],
                "parms": {
                    "t": [
                        0.0,
                        {
                            "expression": "detail(0,\"xform3\",13)"
                        },
                        0.0
                    ],
                    "invertxform": true
                }
            },
            "xform2inverse": {
                "type": "xform",
                "inputs": [
                    {
                        "from": "xform3inverse",
                        "from_index": 0,
                        "to_index": 0
                    }
                ],
                "position": [
                    0.02,
                    -22.71
                ],
                "parms": {
                    "t": [
                        {
                            "expression": "detail(0,\"xform2\",12)"
                        },
                        {
                            "expression": "detail(0,\"xform2\",13)"
                        },
                        {
                            "expression": "detail(0,\"xform2\",14)"
                        }
                    ],
                    "invertxform": true
                }
            },
            "AfterGaea_erosion": {
                "type": "null",
                "inputs": [
                    {
                        "from": "xform4",
                        "from_index": 0,
                        "to_index": 0
                    }
                ],
                "position": [
                    0.02,
                    -25.79
                ]
            },
            "After_Xform": {
                "type": "null",
                "inputs": [
                    {
                        "from": "xform3",
                        "from_index": 0,
                        "to_index": 0
                    }
                ],
                "position": [
                    0,
                    -7.79
                ]
            },
            "Output_to_Gaea": {
                "type": "heightfield_output",
                "inputs": [
                    {
                        "from": "heightfield_project1",
                        "from_index": 0,
                        "to_index": 0
                    }
                ],
                "position": [
                    -6.51,
                    -11.74
                ],
                "parms": {
                    "specify_res": true,
                    "resolution": [
                        4096,
                        4096
                    ],
                    "actual_res": [
                        1000,
                        1000
                    ],
                    "red_channel": "height",
                    "red_out_range": "auto",
                    "red_to_range": [
                        0.0,
                        {
                            "expression": "1/1.5"
                        }
                    ],
                    "green_channel": "height",
                    "green_out_range": "auto",
                    "green_to_range": [
                        0.0,
                        {
                            "expression": "1/1.5"
                        }
                    ],
                    "blue_channel": "height",
                    "blue_out_range": "auto",
                    "blue_to_range": [
                        0.0,
                        {
                            "expression": "1/1.5"
                        }
                    ],
                    "fill_alpha_channel": false,
                    "file_out": "`chs(\"../../file_out\")`"
                },
                "editables": {
                    "cop2net1/single_out": {
                        "type": "rop_comp",
                        "parms": {
                            "trange": {
                                "expression": "ch(\"../../trange\")"
                            },
                            "f": [
                                {
                                    "expression": "ch(\"../../f1\")"
                                },
                                {
                                    "expression": "ch(\"../../f2\")"
                                },
                                {
                                    "expression": "ch(\"../../f3\")"
                                }
                            ],
                            "coppath": "../../cop2net1/flip1",
                            "res": [
                                1,
                                1
                            ],
                            "copoutput": "`chs(\"../../output\")`",
                            "scopeplanes": "*",
                            "convertcolorspace": "off",
                            "pngtga_alpha_multiplication": "unpremult"
                        }
                    },
                    "cop2net1/tiled_out": {
                        "type": "rop_comp",
                        "parms": {
                            "trange": {
                                "expression": "ch(\"../../trange\")"
                            },
                            "f": [
                                {
                                    "expression": "ch(\"../../out_rangex\")"
                                },
                                {
                                    "expression": "ch(\"../../out_rangey\")"
                                },
                                {
                                    "expression": "ch(\"../../out_rangez\")"
                                }
                            ],
                            "coppath": "../../cop2net1/window1",
                            "res": [
                                512,
                                512
                            ],
                            "copoutput": "`chs(\"../../file_out\")`",
                            "scopeplanes": "*",
                            "convertcolorspace": "off",
                            "pixelcrop": [
                                0,
                                0,
                                511,
                                511
                            ],
                            "index": {
                                "expression": "$N+1"
                            },
                            "pngtga_alpha_multiplication": "unpremult"
                        },
                        "parmtemplates": [
                            {
                                "insert_after": "copswitcher_4",
                                "parmtemplates": {
                                    "index": {
                                        "type": "integer",
                                        "label": "Index",
                                        "script_callback_language": "hscript",
                                        "menu_type": "normal"
                                    }
                                }
                            }
                        ]
                    }
                }
            },
            "GaeaProcessed": {
                "type": "null",
                "inputs": [
                    {
                        "from": "attribwrangle1",
                        "from_index": 0,
                        "to_index": 0
                    }
                ],
                "position": [
                    0.25,
                    -29.7
                ]
            },
            "convert1": {
                "type": "convert",
                "position": [
                    -0.14,
                    4.74
                ]
            },
            "xform1": {
                "type": "xform",
                "inputs": [
                    {
                        "from": "attribdelete1",
                        "from_index": 0,
                        "to_index": 0
                    }
                ],
                "position": [
                    0.01,
                    -3.76
                ],
                "parms": {
                    "scale": {
                        "expression": "detail(0,\"sizeRate\",0)"
                    },
                    "p": [
                        {
                            "expression": "$CEX"
                        },
                        {
                            "expression": "$CEY"
                        },
                        {
                            "expression": "$CEZ"
                        }
                    ]
                }
            },
            "heightfield1": {
                "type": "heightfield",
                "position": [
                    -4.15,
                    -8.4
                ],
                "parms": {
                    "gridspacing": 1.0
                }
            },
            "heightfield_project1": {
                "type": "heightfield_project",
                "inputs": [
                    {
                        "from": "heightfield1",
                        "from_index": 0,
                        "to_index": 0
                    },
                    {
                        "from": "After_Xform",
                        "from_index": 0,
                        "to_index": 1
                    }
                ],
                "position": [
                    -2.57,
                    -10.14
                ]
            },
            "convertheightfield1": {
                "type": "convertheightfield",
                "inputs": [
                    {
                        "from": "heightfield_project1",
                        "from_index": 0,
                        "to_index": 0
                    }
                ],
                "position": [
                    -2.57,
                    -12.34
                ]
            },
            "attribpromote1": {
                "type": "attribpromote",
                "inputs": [
                    {
                        "from": "convertheightfield1",
                        "from_index": 0,
                        "to_index": 0
                    }
                ],
                "position": [
                    -2.58,
                    -13.81
                ],
                "parms": {
                    "inname": "P",
                    "outclass": "detail",
                    "method": "max"
                }
            },
            "attribfrommap1": {
                "type": "attribfrommap",
                "inputs": [
                    {
                        "from": "AfterGaea_erosion",
                        "from_index": 0,
                        "to_index": 0
                    }
                ],
                "position": [
                    0.25,
                    -27.45
                ],
                "parms": {
                    "filename": "X:/operation_rs2-1805/fsn/2000/3d/layout/sourceimages/gaea/Outside_v02.png",
                    "reload": "0",
                    "export_attribute": "Outside",
                    "attrib_type": "float"
                }
            },
            "heightfield_file1": {
                "type": "heightfield_file",
                "position": [
                    -6.51,
                    -13.29
                ],
                "parms": {
                    "filename": ""
                }
            },
            "attribwrangle1": {
                "type": "attribwrangle",
                "inputs": [
                    {
                        "from": "attribfrommap1",
                        "from_index": 0,
                        "to_index": 0
                    }
                ],
                "position": [
                    0.25,
                    -28.58
                ],
                "parms": {
                    "snippet": "float Outside = @Outside;\nif(Outside==0)\n{\n    removepoint(0,@ptnum);\n}"
                }
            },
            "xform2": {
                "type": "xform",
                "inputs": [
                    {
                        "from": "xform1",
                        "from_index": 0,
                        "to_index": 0
                    }
                ],
                "position": [
                    0.01,
                    -5.03
                ],
                "parms": {
                    "t": [
                        {
                            "expression": "-$CEX"
                        },
                        {
                            "expression": "-$CEY"
                        },
                        {
                            "expression": "-$CEZ"
                        }
                    ],
                    "p": [
                        {
                            "expression": "$CEX"
                        },
                        {
                            "expression": "$CEY"
                        },
                        {
                            "expression": "$CEZ"
                        }
                    ],
                    "addattrib": true,
                    "outputattrib": "xform2"
                }
            },
            "convertheightfield2": {
                "type": "convertheightfield",
                "inputs": [
                    {
                        "from": "heightfield_file1",
                        "from_index": 0,
                        "to_index": 0
                    }
                ],
                "position": [
                    -6.51,
                    -14.72
                ]
            },
            "attribpromote2": {
                "type": "attribpromote",
                "inputs": [
                    {
                        "from": "convertheightfield2",
                        "from_index": 0,
                        "to_index": 0
                    }
                ],
                "position": [
                    -6.52,
                    -15.84
                ],
                "parms": {
                    "inname": "P",
                    "outclass": "detail",
                    "method": "max"
                }
            },
            "attribwrangle2": {
                "type": "attribwrangle",
                "inputs": [
                    {
                        "from": "attribpromote2",
                        "from_index": 0,
                        "to_index": 0
                    },
                    {
                        "from": "attribpromote1",
                        "from_index": 0,
                        "to_index": 1
                    }
                ],
                "position": [
                    -2.45,
                    -17.61
                ],
                "parms": {
                    "snippet": "vector oldSize = detail(1,\"P\",0);\nfloat oldHeight = getcomp(oldSize,1);\n\nvector newSize = detail(0,\"P\",0);\nfloat newHeight = getcomp(newSize,1);\n\nfloat rate = oldHeight/newHeight;\n@P.y*=rate;"
                }
            },
            "xform3": {
                "type": "xform",
                "inputs": [
                    {
                        "from": "xform2",
                        "from_index": 0,
                        "to_index": 0
                    }
                ],
                "position": [
                    0,
                    -6.53
                ],
                "parms": {
                    "t": [
                        0.0,
                        {
                            "expression": "-$YMIN"
                        },
                        0.0
                    ],
                    "p": [
                        0.0,
                        {
                            "expression": "$YMIN"
                        },
                        0.0
                    ],
                    "addattrib": true,
                    "outputattrib": "xform3"
                }
            },
            "xform4": {
                "type": "xform",
                "inputs": [
                    {
                        "from": "xform2inverse",
                        "from_index": 0,
                        "to_index": 0
                    }
                ],
                "position": [
                    0.02,
                    -24.15
                ],
                "parms": {
                    "scale": {
                        "expression": "detail(0,\"sizeRate\",0)"
                    },
                    "p": [
                        {
                            "expression": "$CEX"
                        },
                        {
                            "expression": "$CEY"
                        },
                        {
                            "expression": "$CEZ"
                        }
                    ],
                    "invertxform": true
                }
            },
            "attribdelete1": {
                "type": "attribdelete",
                "inputs": [
                    {
                        "from": "attribwrangle11",
                        "from_index": 0,
                        "to_index": 0
                    }
                ],
                "position": [
                    0.01,
                    -1.1
                ],
                "parms": {
                    "doptdel": false,
                    "dovtxdel": false,
                    "doprimdel": false,
                    "dtldel": "v1"
                }
            },
            "measure1": {
                "type": "measure::2.0",
                "inputs": [
                    {
                        "from": "convert1",
                        "from_index": 0,
                        "to_index": 0
                    }
                ],
                "position": [
                    -0.15,
                    3.08
                ],
                "parms": {
                    "integrationdomain": "throughout",
                    "colorramp": [
                        {
                            "pos": 0.0,
                            "value": [
                                0.0,
                                0.0,
                                1.0
                            ],
                            "interp": "linear"
                        },
                        {
                            "pos": 0.5,
                            "value": [
                                1.0,
                                1.0,
                                1.0
                            ],
                            "interp": "linear"
                        },
                        {
                            "pos": 1.0,
                            "value": [
                                1.0,
                                0.0,
                                0.0
                            ],
                            "interp": "linear"
                        }
                    ]
                }
            },
            "attribpromote5": {
                "type": "attribpromote",
                "inputs": [
                    {
                        "from": "measure1",
                        "from_index": 0,
                        "to_index": 0
                    }
                ],
                "position": [
                    -0.15,
                    1.86
                ],
                "parms": {
                    "inname": "area",
                    "inclass": "primitive",
                    "outclass": "detail",
                    "useoutname": true,
                    "outname": "sceneArea"
                }
            },
            "heightfield5": {
                "type": "heightfield",
                "position": [
                    2.75,
                    5.55
                ]
            },
            "convertheightfield5": {
                "type": "convertheightfield",
                "inputs": [
                    {
                        "from": "heightfield5",
                        "from_index": 0,
                        "to_index": 0
                    }
                ],
                "position": [
                    2.75,
                    4.53
                ]
            },
            "measure2": {
                "type": "measure::2.0",
                "inputs": [
                    {
                        "from": "convertheightfield5",
                        "from_index": 0,
                        "to_index": 0
                    }
                ],
                "position": [
                    2.75,
                    3.39
                ],
                "parms": {
                    "integrationdomain": "throughout",
                    "colorramp": [
                        {
                            "pos": 0.0,
                            "value": [
                                0.0,
                                0.0,
                                1.0
                            ],
                            "interp": "linear"
                        },
                        {
                            "pos": 0.5,
                            "value": [
                                1.0,
                                1.0,
                                1.0
                            ],
                            "interp": "linear"
                        },
                        {
                            "pos": 1.0,
                            "value": [
                                1.0,
                                0.0,
                                0.0
                            ],
                            "interp": "linear"
                        }
                    ]
                }
            },
            "attribpromote6": {
                "type": "attribpromote",
                "inputs": [
                    {
                        "from": "measure2",
                        "from_index": 0,
                        "to_index": 0
                    }
                ],
                "position": [
                    2.75,
                    2.17
                ],
                "parms": {
                    "inname": "area",
                    "inclass": "primitive",
                    "outclass": "detail",
                    "useoutname": true,
                    "outname": "refArea"
                }
            }
        }
    },
    "info": {
        "author": "yu.dong",
        "created": "January 23, 2025 - 11:14:52",
        "houdini_version": "20.5.278",
        "data_version": "1.0",
        "comment": ""
    },
    "properties": {
        "name": "yu.dong::gaea6",
        "label": "gaea6",
        "recipe_category": "tab_tool_recipe",
        "visible": true,
        "nodetype_category": "Sop",
        "nodetype_name": "attribwrangle"
    },
    "tool": {
        "tab_submenus": [
            "Recipes"
        ],
        "network_categories": [
            "Sop"
        ],
        "icon": "BUTTONS_recipe"
    },
    "options": {
        "nodes_only": false,
        "anchor_children": true,
        "children": true,
        "anchor_editables": true,
        "editables": true,
        "flags": false,
        "parms": true,
        "parms_as_brief": true,
        "evaluate_parmvalues": false,
        "parmtemplates": "spare_only",
        "metadata": false,
        "verbose": false
    }
}